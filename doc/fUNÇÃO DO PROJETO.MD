Backend
config/: ConfiguraÃ§Ãµes gerais do backend (banco de dados, middlewares, serviÃ§os externos).

controllers/: LÃ³gica de negÃ³cio, recebe requisiÃ§Ãµes, processa e retorna respostas.

middleware/: Interceptadores de requisiÃ§Ãµes para autenticaÃ§Ã£o, autorizaÃ§Ã£o, validaÃ§Ãµes.

models/: DefiniÃ§Ã£o dos esquemas de dados do MongoDB.

routes/: DefiniÃ§Ã£o das rotas da API e associaÃ§Ã£o aos controllers.

services/: LÃ³gica mais complexa, processamento de dados, regras de negÃ³cio.

utils/: FunÃ§Ãµes auxiliares, parsers, validadores, constantes.

app.js: ConfiguraÃ§Ã£o do Express (middlewares globais, rotas).

server.js: Ponto de entrada do servidor.

Frontend
components/: Componentes Vue reutilizÃ¡veis, organizados por funcionalidade.

views/: PÃ¡ginas completas que sÃ£o renderizadas pelas rotas.

stores/: Gerenciamento de estado global com Pinia.

router/: DefiniÃ§Ã£o das rotas frontend e guards de navegaÃ§Ã£o.

services/: ComunicaÃ§Ã£o com a API backend (axios).

assets/: Recursos estÃ¡ticos (CSS, imagens, JS).

composables/: FunÃ§Ãµes composables do Vue 3 para lÃ³gica reutilizÃ¡vel.

App.vue: Componente raiz da aplicaÃ§Ã£o.

main.js: Ponto de entrada do Vue.

Outros
docs/: DocumentaÃ§Ã£o do projeto.

scripts/: Scripts auxiliares para deploy, backup, migraÃ§Ã£o.

docker-compose.yml: ConfiguraÃ§Ã£o para orquestrar containers (ex: MongoDB).

Dockerfile: InstruÃ§Ãµes para construir a imagem Docker da aplicaÃ§Ã£o.

ExplicaÃ§Ã£o dos MÃ³dulos Principais
AutenticaÃ§Ã£o (auth): Controla login, logout, perfil e permissÃµes.

Auditorias (audits): Upload, processamento e listagem de auditorias.

Lojas (stores): Gerenciamento das lojas (CRUD) e suas configuraÃ§Ãµes.

RelatÃ³rios (reports): GeraÃ§Ã£o de relatÃ³rios e estatÃ­sticas.

Dashboard: Fornece dados resumidos para o painel inicial.

Hierarquia de UsuÃ¡rios
Auditor: Faz upload e vÃª apenas seus dados e da sua loja.

Supervisor: VÃª dados da equipe e relatÃ³rios da loja.

Manager: VÃª mÃºltiplas lojas e comparativos.

Admin: Acesso total ao sistema.

Fluxo de Dados
O frontend se comunica com o backend via API REST.

O estado global (Pinia) armazena dados do usuÃ¡rio, lojas, etc.

O backend processa os dados e armazena no MongoDB.

Essa estrutura permite que o sistema seja escalÃ¡vel, mantenha o cÃ³digo organizado e facilite a adiÃ§Ã£o de novas funcionalidades.

ExplicaÃ§Ã£o Detalhada de Cada Componente do Sistema
ğŸ—ï¸ Backend - Estrutura e Funcionalidades
ğŸ“ config/
database.js: Configura conexÃ£o com MongoDB, gerencia pools de conexÃ£o e trata erros

cloudinary.js: Configura upload de imagens para avatares de usuÃ¡rios e fotos de lojas

middleware.js: ConfiguraÃ§Ã£o centralizada de todos os middlewares do Express

ğŸ“ controllers/
authController.js:

Login/logout de usuÃ¡rios

GeraÃ§Ã£o de tokens JWT

RecuperaÃ§Ã£o de senha

AtualizaÃ§Ã£o de perfil

auditController.js:

Upload e processamento de planilhas

ValidaÃ§Ã£o de dados de auditoria

CÃ¡lculo de mÃ©tricas e estatÃ­sticas

GestÃ£o de histÃ³rico de auditorias

storeController.js:

CRUD de lojas

AtribuiÃ§Ã£o de usuÃ¡rios Ã s lojas

ConfiguraÃ§Ãµes especÃ­ficas por loja

reportController.js:

GeraÃ§Ã£o de relatÃ³rios personalizados

ExportaÃ§Ã£o de dados (Excel, PDF)

AnÃ¡lises comparativas entre lojas

dashboardController.js:

Fornecimento de dados para os dashboards

MÃ©tricas em tempo real

Alertas e notificaÃ§Ãµes

ğŸ“ middleware/
auth.js: Verifica tokens JWT e autentica usuÃ¡rios

role.js: Controla acesso baseado em hierarquia (auditor, supervisor, manager, admin)

store.js: Garante que usuÃ¡rio sÃ³ acesse dados de sua loja

upload.js: Processa uploads de arquivos e valida formatos

ğŸ“ models/
Store.js: Define estrutura de lojas (cÃ³digo, nome, cidade, configuraÃ§Ãµes)

User.js: Gerencia usuÃ¡rios, suas permissÃµes e estatÃ­sticas

Audit.js: Armazena todos os dados de auditoria com relacionamentos

FileProcess.js: Controla o processamento de arquivos uploadados

ğŸ“ routes/
auth.js: Rotas de autenticaÃ§Ã£o (/login, /register, /logout)

audits.js: Rotas de auditoria (/audits/upload, /audits/list)

stores.js: Rotas de gestÃ£o de lojas (/stores, /stores/:id)

reports.js: Rotas de relatÃ³rios (/reports, /reports/export)

dashboard.js: Rotas do dashboard (/dashboard/stats, /dashboard/alerts)

ğŸ“ services/
auditService.js: LÃ³gica complexa de processamento de planilhas Excel

reportService.js: GeraÃ§Ã£o de relatÃ³rios com dados agregados

emailService.js: Envio de notificaÃ§Ãµes e relatÃ³rios por email

storageService.js: Gerenciamento de arquivos no cloud storage

ğŸ“ utils/
excelParser.js: Processa planilhas Excel e extrai dados estruturados

helpers.js: FunÃ§Ãµes utilitÃ¡rias (formataÃ§Ã£o de datas, cÃ¡lculos)

validators.js: ValidaÃ§Ã£o de dados de entrada

constants.js: Constantes do sistema (roles, status, tipos de auditoria)

ğŸ–¥ï¸ Frontend - Estrutura e Funcionalidades
ğŸ“ components/common/
AppHeader.vue: CabeÃ§alho com navegaÃ§Ã£o e informaÃ§Ãµes do usuÃ¡rio

AppSidebar.vue: Menu lateral com navegaÃ§Ã£o baseada nas permissÃµes

AppFooter.vue: RodapÃ© com informaÃ§Ãµes do sistema

LoadingSpinner.vue: Indicador de carregamento

NotificationToast.vue: Sistema de notificaÃ§Ãµes toast

ğŸ“ components/auth/
LoginForm.vue: FormulÃ¡rio de login com validaÃ§Ã£o

RegisterForm.vue: FormulÃ¡rio de registro (apenas para admins)

ğŸ“ components/audits/
UploadForm.vue: Interface de upload de planilhas com drag-and-drop

AuditList.vue: Listagem de auditorias com filtros e paginaÃ§Ã£o

AuditCard.vue: CartÃ£o individual de auditoria com resumo

ğŸ“ components/dashboard/
StatsCard.vue: CartÃµes de estatÃ­sticas (nÃºmeros, percentuais)

ProgressChart.vue: GrÃ¡ficos de progresso e eficiÃªncia

RecentActivity.vue: Lista de atividades recentes

ğŸ“ components/reports/
ReportFilters.vue: Filtros avanÃ§ados para relatÃ³rios

ReportTable.vue: Tabela de dados com ordenaÃ§Ã£o e paginaÃ§Ã£o

ReportChart.vue: VisualizaÃ§Ã£o grÃ¡fica dos relatÃ³rios

ğŸ“ components/admin/
UserManager.vue: CRUD de usuÃ¡rios e gestÃ£o de permissÃµes

StoreManager.vue: GestÃ£o de lojas e suas configuraÃ§Ãµes

AuditManager.vue: VisualizaÃ§Ã£o administrativa de todas as auditorias

ğŸ“ views/
LoginView.vue: PÃ¡gina de login completa

DashboardView.vue: Dashboard principal com resumo e mÃ©tricas

AuditsView.vue: PÃ¡gina de gestÃ£o de auditorias

ReportsView.vue: PÃ¡gina de relatÃ³rios e anÃ¡lises

ProfileView.vue: PÃ¡gina de perfil do usuÃ¡rio

Admin/: Conjunto de pÃ¡ginas para administraÃ§Ã£o do sistema

ğŸ“ stores/
auth.js: Gerencia estado de autenticaÃ§Ã£o e dados do usuÃ¡rio

audit.js: Controla estado das auditorias e uploads

user.js: Gerencia dados de usuÃ¡rios (para admin)

store.js: Gerencia dados das lojas

report.js: Controla estado de relatÃ³rios e filtros

ğŸ“ services/
api.js: ConfiguraÃ§Ã£o base do axios e interceptors

authService.js: Chamadas API para autenticaÃ§Ã£o

auditService.js: ServiÃ§os de upload e gestÃ£o de auditorias

storeService.js: ServiÃ§os de gestÃ£o de lojas

reportService.js: ServiÃ§os de geraÃ§Ã£o de relatÃ³rios

ğŸ“ composables/
useAuth.js: LÃ³gica reutilizÃ¡vel para autenticaÃ§Ã£o

useAudit.js: LÃ³gica reutilizÃ¡vel para auditorias

useApi.js: LÃ³gica reutilizÃ¡vel para chamadas API

ğŸ” Sistema de Hierarquia e PermissÃµes
ğŸ‘¤ Auditor (FuncionÃ¡rio de Loja)
Upload de planilhas de auditoria

VisualizaÃ§Ã£o do prÃ³prio desempenho

Acesso apenas aos dados da sua loja

VisualizaÃ§Ã£o do ranking pessoal

ğŸ‘¨â€ğŸ’¼ Supervisor (Coordenador de Loja)
Todas as permissÃµes do Auditor

VisualizaÃ§Ã£o do desempenho da equipe

RelatÃ³rios da loja

Comparativos de performance

ğŸ‘” Manager (Gerente Regional)
Todas as permissÃµes do Supervisor

Acesso a mÃºltiplas lojas

Comparativos entre lojas

RelatÃ³rios regionais

ğŸ›¡ï¸ Admin (Administrador do Sistema)
Acesso completo ao sistema

CRUD de usuÃ¡rios e lojas

ConfiguraÃ§Ãµes do sistema

VisualizaÃ§Ã£o de todas as auditorias

RelatÃ³rios globais

ğŸ”„ Fluxos Principais do Sistema
ğŸ“¤ Upload de Auditoria
UsuÃ¡rio seleciona loja e tipo de auditoria

Faz upload da planilha Excel

Sistema processa e valida os dados

Dados sÃ£o salvos no banco com relacionamentos corretos

EstatÃ­sticas sÃ£o atualizadas em tempo real

UsuÃ¡rio recebe confirmaÃ§Ã£o e resumo

ğŸ“Š GeraÃ§Ã£o de RelatÃ³rios
UsuÃ¡rio aplica filtros (data, loja, tipo)

Sistema consulta dados agregados

Dados sÃ£o processados e formatados

RelatÃ³rio Ã© exibido em tabela e grÃ¡ficos

OpÃ§Ã£o de exportar para Excel/PDF

ğŸ“ˆ Dashboard em Tempo Real
Sistema coleta mÃ©tricas das Ãºltimas auditorias

Calcula eficiÃªncia, progresso e comparativos

Exibe cards com informaÃ§Ãµes resumidas

Atualiza automaticamente com novos dados

ğŸ‘¥ GestÃ£o de UsuÃ¡rios (Admin)
Admin cria/edita usuÃ¡rios

Define loja e nÃ­vel de permissÃ£o

UsuÃ¡rio recebe email com credenciais

Sistema registra todas as aÃ§Ãµes administrativas

ğŸ› ï¸ Funcionalidades TÃ©cnicas AvanÃ§adas
ğŸ”„ Processamento em Background
Uploads nÃ£o travam a interface

Processamento pesado Ã© feito assincronamente

UsuÃ¡rio pode continuar usando o sistema

ğŸ“± Design Responsivo
Interface adaptada para desktop, tablet e mobile

ExperiÃªncia consistente em todos os dispositivos

ğŸ”’ SeguranÃ§a
AutenticaÃ§Ã£o JWT

ValidaÃ§Ã£o de dados em todas as camadas

SanitizaÃ§Ã£o de inputs

Controle de acesso por role e loja

ğŸ“¦ GestÃ£o de Estado
Estado global gerenciado com Pinia

Dados em cache para performance

AtualizaÃ§Ãµes em tempo real

ğŸ”” Sistema de NotificaÃ§Ãµes
Alertas de conclusÃ£o de processamento

NotificaÃ§Ãµes de atividades importantes

Sistema de mensagens toast

Esta estrutura garante que o sistema seja robusto, escalÃ¡vel e mantenha a organizaÃ§Ã£o mesmo com o crescimento do projeto. Cada componente tem uma responsabilidade clara, facilitando a manutenÃ§Ã£o e adiÃ§Ã£o de novas funcionalidades.
